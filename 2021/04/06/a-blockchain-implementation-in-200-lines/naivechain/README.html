<h1 id="Naivechain-a-blockchain-implementation-in-200-lines-of-code"><a href="#Naivechain-a-blockchain-implementation-in-200-lines-of-code" class="headerlink" title="Naivechain - a blockchain implementation in 200 lines of code"></a>Naivechain - a blockchain implementation in 200 lines of code</h1><h3 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h3><p>All the current implementations of blockchains are tightly coupled with the larger context and problems they (e.g. Bitcoin or Ethereum) are trying to solve. This makes understanding blockchains a necessarily harder task, than it must be. Especially source-code-wisely. This project is an attempt to provide as concise and simple implementation of a blockchain as possible.</p>
<h3 id="What-is-blockchain"><a href="#What-is-blockchain" class="headerlink" title="What is blockchain"></a>What is blockchain</h3><p><a href="https://en.wikipedia.org/wiki/Blockchain_(database)">From Wikipedia</a> : Blockchain is a distributed database that maintains a continuously-growing list of records called blocks secured from tampering and revision.</p>
<h3 id="Key-concepts-of-Naivechain"><a href="#Key-concepts-of-Naivechain" class="headerlink" title="Key concepts of Naivechain"></a>Key concepts of Naivechain</h3><p>Check also <a href="https://medium.com/@lhartikk/a-blockchain-in-200-lines-of-code-963cc1cc0e54#.dttbm9afr5">this blog post</a> for a more detailed overview of the key concepts</p>
<ul>
<li>HTTP interface to control the node</li>
<li>Use Websockets to communicate with other nodes (P2P)</li>
<li>Super simple “protocols” in P2P communication</li>
<li>Data is not persisted in nodes</li>
<li>No proof-of-work or proof-of-stake: a block can be added to the blockchain without competition</li>
</ul>
<p><img src="naivechain_blockchain.png" alt="alt tag"></p>
<p><img src="naivechain_components.png" alt="alt tag"></p>
<h3 id="Naivecoin"><a href="#Naivecoin" class="headerlink" title="Naivecoin"></a>Naivecoin</h3><p>For a more extensive tutorial about blockchains, you can check the project <a href="https://lhartikk.github.io/">Naivecoin</a>. It is based on Naivechain and implements for instance Proof-of-work, transactions and wallets.</p>
<h3 id="Quick-start"><a href="#Quick-start" class="headerlink" title="Quick start"></a>Quick start</h3><p>(set up two connected nodes and mine 1 block)</p>
<pre><code>npm install
HTTP_PORT=3001 P2P_PORT=6001 npm start
HTTP_PORT=3002 P2P_PORT=6002 PEERS=ws://localhost:6001 npm start
curl -H &quot;Content-type:application/json&quot; --data &apos;{&quot;data&quot; : &quot;Some data to the first block&quot;}&apos; http://localhost:3001/mineBlock</code></pre><h3 id="Quick-start-with-Docker"><a href="#Quick-start-with-Docker" class="headerlink" title="Quick start with Docker"></a>Quick start with Docker</h3><p>(set up three connected nodes and mine a block)<br>###</p>
<pre><code class="sh">docker-compose up
curl -H <span class="string">"Content-type:application/json"</span> --data <span class="string">'{"data" : "Some data to the first block"}'</span> http://localhost:3001/mineBlock</code></pre>
<h3 id="HTTP-API"><a href="#HTTP-API" class="headerlink" title="HTTP API"></a>HTTP API</h3><h5 id="Get-blockchain"><a href="#Get-blockchain" class="headerlink" title="Get blockchain"></a>Get blockchain</h5><pre><code>curl http://localhost:3001/blocks</code></pre><h5 id="Create-block"><a href="#Create-block" class="headerlink" title="Create block"></a>Create block</h5><pre><code>curl -H &quot;Content-type:application/json&quot; --data &apos;{&quot;data&quot; : &quot;Some data to the first block&quot;}&apos; http://localhost:3001/mineBlock</code></pre><h5 id="Add-peer"><a href="#Add-peer" class="headerlink" title="Add peer"></a>Add peer</h5><pre><code>curl -H &quot;Content-type:application/json&quot; --data &apos;{&quot;peer&quot; : &quot;ws://localhost:6001&quot;}&apos; http://localhost:3001/addPeer</code></pre><h4 id="Query-connected-peers"><a href="#Query-connected-peers" class="headerlink" title="Query connected peers"></a>Query connected peers</h4><pre><code>curl http://localhost:3001/peers</code></pre>